<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🧠 NeuroRAG - Mental Health AI Assistant</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="logo">
            <span class="logo-icon">🧠</span>
            <h2>NeuroRAG</h2>
        </div>
        
        <div class="quick-links">
            <h3>Navigation</h3>
            <div class="link-item active">
                <span class="icon">🏠</span>
                <span>Dashboard</span>
            </div>
            <div class="link-item">
                <span class="icon">🔍</span>
                <span>Search</span>
            </div>
            <div class="link-item">
                <span class="icon">📊</span>
                <span>Analytics</span>
            </div>
            <div class="link-item">
                <span class="icon">⚙️</span>
                <span>Settings</span>
            </div>
            <div class="link-item">
                <span class="icon">📚</span>
                <span>Documentation</span>
            </div>
            <div class="link-item">
                <span class="icon">ℹ️</span>
                <span>About</span>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Header -->
        <header class="header">
            <div class="welcome">
                <span class="icon">👋</span>
                <h1>Welcome to NeuroRAG</h1>
            </div>
            <div class="status-badge" id="statusBadge">
                <span class="dot"></span>
                <span>System Online</span>
            </div>
        </header>

        <!-- Dashboard Grid -->
        <div class="dashboard-grid">
            <!-- Search Card -->
            <div class="card search-card">
                <h2>🔍 Ask a Question</h2>
                <p class="subtitle">Search for ICD-10 mental health diagnoses and codes using natural language</p>
                
                <div class="search-box">
                    <input 
                        type="text" 
                        id="searchInput" 
                        placeholder="e.g., What is the code for Recurrent depressive disorder in remission?"
                        onkeypress="handleKeyPress(event)"
                        autocomplete="off"
                    >
                    <button id="searchBtn" onclick="performSearch()">
                        <span id="searchBtnText">Search</span>
                        <span id="searchLoader" class="loader" style="display: none;"></span>
                    </button>
                </div>

                <div class="recent-searches">
                    <h4>💡 Quick Examples:</h4>
                    <div class="suggestion-chips">
                        <span class="chip" onclick="setQuery('What is the code for Recurrent depressive disorder in remission?')">
                            Recurrent depressive disorder
                        </span>
                        <span class="chip" onclick="setQuery('What are the diagnostic criteria for Obsessive-Compulsive Disorder?')">
                            OCD criteria
                        </span>
                        <span class="chip" onclick="setQuery('Tell me about bipolar disorder')">
                            Bipolar disorder
                        </span>
                        <span class="chip" onclick="setQuery('What is schizophrenia?')">
                            Schizophrenia
                        </span>
                        <span class="chip" onclick="setQuery('Anxiety disorders classification')">
                            Anxiety disorders
                        </span>
                        <span class="chip" onclick="setQuery('PTSD diagnosis')">
                            PTSD diagnosis
                        </span>
                    </div>
                </div>
            </div>

            <!-- Stats Row -->
            <div class="stats-row">
                <div class="stat-card green">
                    <div class="stat-icon">🗄️</div>
                    <div class="stat-content">
                        <h3>Vector Store</h3>
                        <div class="stat-value" id="vectorStatus">Loading...</div>
                        <div class="stat-label">FAISS Index Status</div>
                    </div>
                </div>

                <div class="stat-card blue">
                    <div class="stat-icon">📄</div>
                    <div class="stat-content">
                        <h3>Documents</h3>
                        <div class="stat-value">ICD-10</div>
                        <div class="stat-label">Chapter V - Mental Health</div>
                    </div>
                </div>

                <div class="stat-card purple">
                    <div class="stat-icon">🤖</div>
                    <div class="stat-content">
                        <h3>AI Model</h3>
                        <div class="stat-value">Falcon-1B</div>
                        <div class="stat-label">LLM + Embeddings</div>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">⚡</div>
                    <div class="stat-content">
                        <h3>Response Time</h3>
                        <div class="stat-value">&lt;2s</div>
                        <div class="stat-label">Fast Mode Active</div>
                    </div>
                </div>
            </div>

            <!-- Results Card (Hidden by default) -->
            <div class="card results-card" id="resultsCard" style="display: none;">
                <div class="results-header">
                    <h2>💡 Results</h2>
                    <button class="clear-btn" onclick="clearResults()">✕ Clear</button>
                </div>
                <div class="results-content" id="resultsContent">
                    <!-- Results will be dynamically inserted here -->
                </div>
            </div>

            <!-- System Information -->
            <div class="card info-card">
                <h3>📋 About NeuroRAG</h3>
                <p class="subtitle">
                    NeuroRAG is an intelligent AI assistant for mental health professionals and students, 
                    designed to answer questions about ICD-10 mental and behavioural disorder classifications.
                </p>
                
                <ul>
                    <li>✅ <strong>Local & Private:</strong> No data sent to external APIs</li>
                    <li>✅ <strong>Fast Retrieval:</strong> Instant answers with semantic search</li>
                    <li>✅ <strong>RAG-Powered:</strong> Retrieval-Augmented Generation for accuracy</li>
                    <li>✅ <strong>Open Source:</strong> Built with HuggingFace & LangChain</li>
                </ul>

                <h4 style="margin-top: 1.5rem; color: var(--primary-green);">🛠️ Tech Stack:</h4>
                <div class="tech-stack">
                    <span class="tech-badge">Python</span>
                    <span class="tech-badge">Flask</span>
                    <span class="tech-badge">LangChain</span>
                    <span class="tech-badge">FAISS</span>
                    <span class="tech-badge">Transformers</span>
                    <span class="tech-badge">HuggingFace</span>
                    <span class="tech-badge">Sentence-Transformers</span>
                </div>
            </div>

            <!-- Developer Info -->
            <div class="card">
                <h3>👨‍💻 Developer</h3>
                <p style="color: var(--text-secondary); margin-top: 0.5rem;">
                    <strong style="color: var(--primary-green);">Gaurav Patil</strong><br>
                    B.Tech Computer Engineering<br>
                    📍 India<br>
                    🔗 <a href="https://github.com/GauravPatil2515/NEURO-RAG" 
                         target="_blank" 
                         style="color: var(--accent-green); text-decoration: none;">
                        View on GitHub →
                    </a>
                </p>
            </div>

            <!-- How to Use -->
            <div class="card">
                <h3>🎯 How to Use</h3>
                <ol style="margin: 1rem 0; padding-left: 1.5rem; color: var(--text-secondary);">
                    <li style="margin-bottom: 0.5rem;">Type your mental health question in natural language</li>
                    <li style="margin-bottom: 0.5rem;">Click "Search" or press Enter</li>
                    <li style="margin-bottom: 0.5rem;">Get instant AI-powered answers from ICD-10 database</li>
                    <li>Use quick examples to try sample queries</li>
                </ol>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>
                © 2025 NeuroRAG - Built by Gaurav Patil | 
                Powered by LangChain + FAISS + HuggingFace |
                <span style="color: var(--success);">●</span> Local & Privacy-First
            </p>
        </footer>
    </main>

    <!-- Load JavaScript -->
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
